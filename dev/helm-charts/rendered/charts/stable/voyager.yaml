---
# Source: voyager/templates/service-account.yaml

apiVersion: v1
kind: ServiceAccount
metadata:
  name: voyager-RELEASE-NAME
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"


---
# Source: voyager/templates/cluster-role.yaml

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: voyager-RELEASE-NAME
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
rules:
- apiGroups:
  - apiextensions.k8s.io
  resources:
  - customresourcedefinitions
  verbs:
  - "*"
- apiGroups:
  - extensions
  resources:
  - thirdpartyresources
  verbs:
  - "*"
- apiGroups:
  - voyager.appscode.com
  resources: ["*"]
  verbs: ["*"]
- apiGroups:
  - monitoring.coreos.com
  resources:
  - servicemonitors
  verbs: ["get", "create", "update", "patch"]
- apiGroups:
  - apps
  resources:
  - deployments
  verbs: ["*"]
- apiGroups:
  - extensions
  resources:
  - deployments
  - daemonsets
  - ingresses
  verbs: ["*"]
- apiGroups: [""]
  resources:
  - replicationcontrollers
  - services
  - endpoints
  - configmaps
  verbs: ["*"]
- apiGroups: [""]
  resources:
  - secrets
  verbs: ["get", "list", "watch", "create", "update", "patch"]
- apiGroups: [""]
  resources:
  - namespaces
  verbs: ["get", "list", "watch"]
- apiGroups: [""]
  resources:
  - events
  verbs: ["create"]
- apiGroups: [""]
  resources:
  - pods
  verbs: ["list", "watch", "delete", "deletecollection"]
- apiGroups: [""]
  resources:
  - nodes
  verbs: ["list", "watch", "get"]
- apiGroups: [""]
  resources:
  - serviceaccounts
  verbs: ["get", "create", "delete", "patch"]
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - rolebindings
  - roles
  verbs: ["get", "create", "delete", "patch"]


---
# Source: voyager/templates/user-roles.yaml

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:voyager:edit
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
rules:
- apiGroups:
  - voyager.appscode.com
  resources:
  - certificates
  - ingresses
  verbs:
  - create
  - delete
  - deletecollection
  - get
  - list
  - patch
  - update
  - watch
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: appscode:voyager:view
  labels:
    rbac.authorization.k8s.io/aggregate-to-view: "true"
rules:
- apiGroups:
  - voyager.appscode.com
  resources:
  - certificates
  - ingresses
  verbs:
  - get
  - list
  - watch


---
# Source: voyager/templates/cluster-role-binding.yaml

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: voyager-RELEASE-NAME
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: voyager-RELEASE-NAME
subjects:
- kind: ServiceAccount
  name: voyager-RELEASE-NAME
  namespace: hub


---
# Source: voyager/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: voyager-RELEASE-NAME
  labels:
    app: "voyager"
    chart: "voyager-3.2.4"
    release: "RELEASE-NAME"
    heritage: "Tiller"
spec:
  ports:
  # Port used to expose admission webhook apiserver
  - name: admission
    port: 443
    targetPort: 8443
  # Port used to expose Prometheus metrics for the operator
  - name: ops
    port: 56790
    targetPort: 56790
  # Port used to respond to Let's Encrypt HTTP challenges
  - name: acme
    port: 56791
    targetPort: 56791
  selector:
    app: "voyager"
    release: "RELEASE-NAME"

---
# Source: voyager/templates/deployment.yaml
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: voyager-RELEASE-NAME
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
spec:
  replicas: 1
  selector:
    matchLabels:
      app: "voyager"
      release: "RELEASE-NAME"
  template:
    metadata:
      labels:
        app: "voyager"
        release: "RELEASE-NAME"
    spec:
      serviceAccountName: voyager-RELEASE-NAME
      containers:
      - name: voyager
        image: appscode/voyager:6.0.0
        imagePullPolicy: IfNotPresent
        args:
        - run
        - --cloud-provider=
        - --cloud-config=
        - --v=3
        - --rbac=true
        - --ingress-class=
        - --operator-service=voyager-RELEASE-NAME
        - --docker-registry=appscode
        - --haproxy-image-tag=1.7.10-6.0.0
        - --exporter-image-tag=6.0.0
        - --secure-port=8443
        - --audit-log-path=-
        - --tls-cert-file=/var/serving-cert/tls.crt
        - --tls-private-key-file=/var/serving-cert/tls.key
        ports:
        - containerPort: 8443
        - containerPort: 56790
        - containerPort: 56791
        readinessProbe:
          httpGet:
            path: /healthz
            port: 8443
            scheme: HTTPS
        volumeMounts:
        - mountPath: /var/serving-cert
          name: serving-cert
      volumes:
      - name: serving-cert
        secret:
          defaultMode: 420
          secretName: voyager-RELEASE-NAME-apiserver-cert
---
# Source: voyager/templates/apiregistration.yaml

apiVersion: apiregistration.k8s.io/v1beta1
kind: APIService
metadata:
  name: v1beta1.admission.voyager.appscode.com
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
spec:
  group: admission.voyager.appscode.com
  version: v1beta1
  service:
    namespace: hub
    name: voyager-RELEASE-NAME
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM5ekNDQWQrZ0F3SUJBZ0lSQUpiWDUvQXdPWXJVWE9IM2lvZnBwQ1V3RFFZSktvWklodmNOQVFFTEJRQXcKRlRFVE1CRUdBMVVFQXhNS2MzWmpMV05oZEMxallUQWVGdzB4T0RFeU1EVXlNVE0zTlRKYUZ3MHlPREV5TURJeQpNVE0zTlRKYU1CVXhFekFSQmdOVkJBTVRDbk4yWXkxallYUXRZMkV3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBCkE0SUJEd0F3Z2dFS0FvSUJBUURXV29TQTlubDZEVHhlTDVBTGVYczlUbXBhcnVDdWdUdHA4a2RMRmVLdllMRUUKcWp1SlU0SjVaTEIrWTdBdlNFUTNDVy93dE9BWUtuNFZjY3N2VkpVMVZ1K21zOXM1WjZBREwxdkJDVXZ4RE5MQQpycm1tRldyMFRVcjZRdXBUMnY0SDJkWVozZkljZGdSTmhOOTVhR3gvb0lTcFRETjJ6OXhISitydFRQbHBxc0FVCndUbEhrWUNjc1M1Nnc2ejBYOE91SEIyZGREODdhWVgyakxuWEZqZ3JPSFYyamlhOFg4aDVvRmdFYUdYRXh3UlQKS3pPOGZmYUVObmJRc01TNzhGQzNlUnBBWnBDRHlOZnFjbFg4cGJXb3ZIbTJEcjd5UjBMQnZHRmZaSkprNWZTVgp4Z2R6dk9WdFZxV3RzZlgyVmlaYlQxbXdoVG92b2hHeUZuZzhuOWZCQWdNQkFBR2pRakJBTUE0R0ExVWREd0VCCi93UUVBd0lDcERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEd1lEVlIwVEFRSC8KQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBbGYvSmR4OWRTVys0NFlEWjlwZjA5dWNuU0ozdAo0UXJ1cTQ0QzE2bExLSmc5Z1U1dmpaTjZvYmpLcUd1eGRSLzRUSjVlNkZINFB5TUdnaDlJaUorT2UyaUlmZ2hqCkFzN1hrWUZ2SDBJMkR0WDl3enNNOGVNSnUvbjFSRFFlazZlZ1kwdG5NbGFJRVJKT2h4YzJyMTUxeU43b3dxRjkKSCtUQmlDRkgzSTZZb2FURG9qU3hCOEsyVzI5cFNQSHQ0dFI1QVJUT2RYWXhOYzIxOFVONmFVQmpkd2FOS3AyMAo1alNvNVlneXpnRUErT0FsV1VFeWkyK2txVWpoZGY3MExDY3JXT29IWk5QYXZZTWlkUW5sTktZdnJ1VTJCa2lvCjFjOWFGelhyRGFZNkpDSlZDUkZIUTEzcjUyMnVPWi9jcE1aeUdHQW9EN0tUcWNTaU04K0I0ZE5qNWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  groupPriorityMinimum: 10000
  versionPriority: 15
---
apiVersion: v1
kind: Secret
metadata:
  name: voyager-RELEASE-NAME-apiserver-cert
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
type: Opaque
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURRakNDQWlxZ0F3SUJBZ0lRRllzUlExSzI0Z2k0WW9pcURWWlIxekFOQmdrcWhraUc5dzBCQVFzRkFEQVYKTVJNd0VRWURWUVFERXdwemRtTXRZMkYwTFdOaE1CNFhEVEU0TVRJd05USXhNemMxTTFvWERUSTRNVEl3TWpJeApNemMxTTFvd0h6RWRNQnNHQTFVRUF4TVVkbTk1WVdkbGNpMVNSVXhGUVZORkxVNUJUVVV3Z2dFaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUM2M2NIb3F6ZjdqV04wWXhieW9MYkt3RmNqQVdBYjM1VmwKVGJ5MWxwdmtKU3JYcHRMbUFkaW1XTXkxZ3VnNkdvaHl4UnBSLzQ2R0hIZDlIU294dVpCUFY4VEZieTNDNVVsRgpVVkIxUml3RnVXQlAwUDRaMHNjclpkdStESmRaZ25YVVE5NFp3TWh2V2s2cnFGSGJRWVZTR2ttQWhMYTdvNTd4CnFJSmtZM0RBR0VWWW8vS3N6WENrRnhVWXZoRjN4Z1NXak8xMGR2NVoxYVM3eXQ5Z3l2NSs3a1RXeStVR1BDTDMKNlFmWFMyTURTMHdwZmVKdUFKQWlTc2pET21rTExkNXVHSmZBdmJOQUxqU3pJNFA4TStaQVlHRnkwTWxIMzJNUgpnQjFKWWlZWkp4THRvNGorczdkZWJ0TEU3Y1gzUUtYQk1XTURUR3VwZFdrVzhaQWt3MHo1QWdNQkFBR2pnWU13CmdZQXdEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0QKQWpBTUJnTlZIUk1CQWY4RUFqQUFNRUVHQTFVZEVRUTZNRGlDR0hadmVXRm5aWEl0VWtWTVJVRlRSUzFPUVUxRgpMbWgxWW9JY2RtOTVZV2RsY2kxU1JVeEZRVk5GTFU1QlRVVXVhSFZpTG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGCkFBT0NBUUVBTTVMREVxTTFNUU9BTE0zRExvNk5nOWtCOXlxT3RXalJYQzZESHdOb1B0ZGNteGVkazdIMW1kSTIKRS95anJZSzlRRDRmUGZTT3pPdnN6bFJFaXROdXVEV2JBTmsxMm4vc0N2TW1uMEI5TzNwOHlYLzhUMUxTVUZFZgoxUXdwNU1IclNhTUhRdmdBYmZhQ0ZRTDRld1hLWE1PdG9sYm9QeHRyRnptelVPVE1pQXI4WnZzR0NkSnJ0bjlNClliSmRXV3RkdjRiN0x4Y3orc05oc1BMRHVwbC9qdUxzMHNrY29kVVpmM0V0T3llTmhsZW9mYXE3Uk9UelpiZHAKTjE0cVEwK0pFMC96TStvQmROSm9sR1VjQmtBMmwxcHY3K1BHUXovNDByZ0F5VXYzajExZ1pBOTZ3SHdubW9DOQpIckZCNVhtNEtEN3p0Q3YzY3dnbjFCd3VaYVdISHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBdXQzQjZLczMrNDFqZEdNVzhxQzJ5c0JYSXdGZ0c5K1ZaVTI4dFphYjVDVXExNmJTCjVnSFlwbGpNdFlMb09ocUljc1VhVWYrT2hoeDNmUjBxTWJtUVQxZkV4Vzh0d3VWSlJWRlFkVVlzQmJsZ1Q5RCsKR2RMSEsyWGJ2Z3lYV1lKMTFFUGVHY0RJYjFwT3E2aFIyMEdGVWhwSmdJUzJ1Nk9lOGFpQ1pHTnd3QmhGV0tQeQpyTTF3cEJjVkdMNFJkOFlFbG96dGRIYitXZFdrdThyZllNcitmdTVFMXN2bEJqd2k5K2tIMTB0akEwdE1LWDNpCmJnQ1FJa3JJd3pwcEN5M2ViaGlYd0wyelFDNDBzeU9EL0RQbVFHQmhjdERKUjk5akVZQWRTV0ltR1NjUzdhT0kKL3JPM1htN1N4TzNGOTBDbHdURmpBMHhycVhWcEZ2R1FKTU5NK1FJREFRQUJBb0lCQVFDVzl5VDdKYWhhcjhWVApkK0pJTGhLL0JsamZUUE1xVVoxT2RGa3FrdnhxZXFSOENLaUZiYVJyNzMyaWZwbkNwMERwQjlmVnV4S1h3bE8rClhsdUNSSm9UbjZLMnByVmZxUUZpNE9pUmRobUdubGJ5NUxNRWhjYW1odW5hUmkzWUFJL1U1dWQrQXNOclFwZ2cKRWlIZmNyV1V1T3Y4eWpzZXFIZDJZRjdIWDVidGVNckJRK3cxVkdqbjVIYzdDOVR5ZEZnTDI2TVJBekJqS1Y1dgpCdXp0d1J3Y1UrVUVqZ0FoRG9lQ3FoUUMwSVhneE5FK3JpZmJaOVBOSVhXM2t2VzhFTFBsenRLYlBNY0VSM2d0CmtvMlNTMHFRNWVoQlFKZlRtL1FFWno2Z3VtWHhsNXVKUFMzL2w0RktnZkduM0ZrMTdRV3g1aDZudUhibkRIQ3IKSzFlYU9pa0JBb0dCQVBQS29TblRxZUVMVklQZGxEUnVwYTM5T3laM1psZ2k5Yzk0UGtENjdyT25BOWdaSXNSQgpqMXpoZXJDVllHZVJDK0R3Unl2eC9KME5naU93K3h1UklONG1wZ1FueUpFcDdxNGdScitVVVBDa2pkV3BlQU1nCitOVVo5ajI4WWdEbW1JdkdlYlVuVFlubUJmSG43VTFaUGMyRmRrYjNiRjdyZzJ2SFdxSDMyclNwQW9HQkFNUTUKV3JwcUJtVDFqd0FONXRiT2Y4ZnhWR210Wm9PZlMyK0grQ0h3VVpWT2tjVnhsdmJJNE5YbkFDSzVkK2N6UXh6ZwpzZ0Z6UHYxNDJGL0o2NXd5ZURtTE1aY3h6R3VWME1LNkppT3V0NEhFb09jMmdvalhldVhQUVlaNEFHUzdIelZlCkpSVkdyOEVPcmRoOVpHcmYzN2xtY2ZpT3NzVlBjbHo0ZjlwOUtiZlJBb0dBY211cy9udVlaTVl6a1h4aXZjVWMKdjY5MW5wVTFsTEk3Mm5jZUNOTjlTeFpkS0lTTG03OEZjVnRtZ1JCcTRkRGkyVjBNbW1TRjRwUmZleTdxZkVLKwpRV1cwVDRqNGlxRTZvOEVFVTVCaCtML1N6ZkF2SXBETUdRQ0pZT3BVdVFXQm5VQzNDTDM4bDNjOVhRODBnalFiClhLV0NJTWFwdDFja0pHYTVkQUZuUlprQ2dZRUFrRFVtZklHWEdYTnVHTGdld2hjWXliU09PT3Y2dnhpK3M4VFYKa3Z1dXVXLzRxWWFGVC9EcGE4cE15emhLNmxzK0kyYnU2eW5yVFJVV3o2N3h2T1ZLZmQvU0hpKzI4QW8yVmlYQQpDZEZKZzlFaC8wcU1QRTFBUU14RWQ3S1JkM1lkeFhiZkFmZmxDcGpqSW90azFUYWFrUUs5RjlLbmgyS1B4Y3ZMCkNxT1ptVUVDZ1lFQTNJTEgwV1M0ZjFKZVVzZFFMU0ZzQjRCaWduQVVGZEZlWFZXN3JneEdibUNPVWQ3eGg4cEcKdnp2cUlydy9jM3A3VVdtYmFkbWxITGl4MTVQcWVBV0R3S0x4SUt2VFlRcG8wekM1ZXJoWm9oVmoxamFFdk9xYQpTakw0TU8vSkdTdjNrT0o2Zlc1S1E3UWlKODZMWTAwdlU1WC9yWkpLOVc1c015UFJ3QVJMUTlRPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
---

# to read the config for terminating authentication
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: voyager-RELEASE-NAME-apiserver-extension-server-authentication-reader
  namespace: kube-system
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
roleRef:
  kind: Role
  apiGroup: rbac.authorization.k8s.io
  name: extension-apiserver-authentication-reader
subjects:
- kind: ServiceAccount
  name: voyager-RELEASE-NAME
  namespace: hub
---
# to delegate authentication and authorization
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: voyager-RELEASE-NAME-apiserver-auth-delegator
  labels:
    chart: "voyager-3.2.4"
    app: "voyager"
    heritage: "Tiller"
    release: "RELEASE-NAME"
roleRef:
  kind: ClusterRole
  apiGroup: rbac.authorization.k8s.io
  name: system:auth-delegator
subjects:
- kind: ServiceAccount
  name: voyager-RELEASE-NAME
  namespace: hub

---
# Source: voyager/templates/validating-webhook-configuration.yaml


